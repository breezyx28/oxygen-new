```markdown
# ⚙️ Custom React/Redux CLI Generator

A powerful CLI tool to quickly scaffold Redux Toolkit services, validations, pages, and components using boilerplates — with built-in support for automatic reducer and middleware registration, undoing actions, and fallback defaults.

---

## 📁 Project Structure
```

/your-project
├── cli.cjs # CLI entry point (npm/Bun compatible)
├── .cli-history.json # Internal log for undo actions
├── boilerplates/
│ ├── core/
│ │ ├── RootReducers.txt # Used for `cli init`
│ │ └── RootMiddlewares.txt
│ ├── service/
│ │ └── endpoint.txt
│ ├── validation/
│ │ └── form-validation.txt
│ └── component/
│ └── MyComponent.txt
└── src/
├── redux/
│ ├── endpoints/ # Where service files are generated
│ ├── reducers/
│ │ └── RootReducers.tsx
│ └── middlewares/
│ └── RootMiddlewares.tsx

````

---

## 🚀 Features

- ✅ Boilerplate-based generation via `.txt` templates
- ✅ Auto-register Redux services in reducers and middlewares
- ✅ Undo support to clean up last created file and registrations
- ✅ Init command to bootstrap `RootReducers.tsx` and `RootMiddlewares.tsx`
- ✅ Compatible with both **npm** and **Bun**
- ✅ Fallback generation for missing service templates

---

## 🛠️ Setup

### 1. Create Your Boilerplates

Create `.txt` files in `boilerplates/<type>/` with optional placeholders like:

```txt
// boilerplates/service/endpoint.txt

import { createApi, fetchBaseQuery } from "@reduxjs/toolkit/query/react";

export const {{SERVICE_NAME}} = createApi({
  reducerPath: "{{SERVICE_NAME}}",
  baseQuery: fetchBaseQuery({ baseUrl: "/api" }),
  endpoints: (builder) => ({
    example: builder.query({ query: () => "example" }),
  }),
});

export const { useExampleQuery } = {{SERVICE_NAME}};
````

> `{{SERVICE_NAME}}` will be replaced by your input.

---

## 📦 Usage

### ✅ Create a Service

```bash
npm run cli -- create:service/endpoint dir:endpoints name:Login.tsx service:loginApi
```

This will:

- Generate `src/redux/endpoints/Login.tsx` using `boilerplates/service/endpoint.txt`
- Replace `{{SERVICE_NAME}}` with `loginApi`
- Register `loginApi.reducer` in `RootReducers.tsx`
- Register `loginApi.middleware` in `RootMiddlewares.tsx`
- Save the action for undo

---

### ✅ Undo the Last Create

```bash
npm run cli -- undo
```

- Deletes the last created file
- Removes its import from reducers/middlewares
- Cleans up `.cli-history.json`

---

### ✅ Initialize Root Reducers/Middlewares

```bash
npm run cli -- init
```

Creates:

- `src/redux/reducers/RootReducers.tsx` from `boilerplates/core/RootReducers.txt`
- `src/redux/middlewares/RootMiddlewares.tsx` from `boilerplates/core/RootMiddlewares.txt`

---

## 🔁 Example Workflow

1. **Add a boilerplate**:

   - `boilerplates/service/endpoint.txt`

2. **Run command**:

```bash
npm run cli -- create:service/endpoint dir:endpoints name:Form.tsx service:formApi
```

3. **Check output**:

   - `src/redux/endpoints/Form.tsx` created
   - `formApi` added to:

     - `RootReducers.tsx`
     - `RootMiddlewares.tsx`

4. **Undo if needed**:

```bash
npm run cli -- undo
```

---

## 🚀 Bun Support

You can run the same CLI using [Bun](https://bun.sh):

```bash
bun cli.cjs create:service/endpoint dir:endpoints name:Login.tsx service:loginApi
bun cli.cjs undo
bun cli.cjs init
```

---

## 🧠 Advanced Tips

- Add `--force` flag (manually handled) to overwrite files.
- Add more categories like `page`, `component`, `form` by adding new `.txt` boilerplates.
- You can customize `cli.cjs` for additional behaviors, such as logging or grouping exports.

---

## 📝 npm Scripts (Optional)

In `package.json`:

```json
"scripts": {
  "cli": "node cli.cjs"
}
```

Run it like:

```bash
npm run cli -- create:...
npm run cli -- undo
npm run cli -- init
```

---

## 📬 Contribute Boilerplates

To add a new boilerplate:

1. Create a folder under `boilerplates/<type>/`
2. Add a `.txt` file like `MyFeature.txt`
3. Use it like:

```bash
npm run cli -- create:component/MyFeature dir:components name:Feature.tsx
```

---

## 🧾 License

MIT License

---

### ✨ Happy Coding!

```

Let me know if you'd like this `README.md` to be auto-generated by `cli init`, or if you want to export all available boilerplates with a `list` command!
```
